!function(e){function t(t){for(var s,a,r=t[0],o=t[1],u=t[2],h=0,v=[];h<r.length;h++){a=r[h];Object.prototype.hasOwnProperty.call(n,a)&&n[a]&&v.push(n[a][0]);n[a]=0}for(s in o)Object.prototype.hasOwnProperty.call(o,s)&&(e[s]=o[s]);c&&c(t);for(;v.length;)v.shift()();l.push.apply(l,u||[]);return i()}function i(){for(var e,t=0;t<l.length;t++){for(var i=l[t],s=!0,r=1;r<i.length;r++){var o=i[r];0!==n[o]&&(s=!1)}if(s){l.splice(t--,1);e=a(a.s=i[0])}}return e}var s={},n={main:0},l=[];function a(t){if(s[t])return s[t].exports;var i=s[t]={i:t,l:!1,exports:{}};e[t].call(i.exports,i,i.exports,a);i.l=!0;return i.exports}a.m=e;a.c=s;a.d=function(e,t,i){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})};a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});Object.defineProperty(e,"__esModule",{value:!0})};a.t=function(e,t){1&t&&(e=a(e));if(8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);a.r(i);Object.defineProperty(i,"default",{enumerable:!0,value:e});if(2&t&&"string"!=typeof e)for(var s in e)a.d(i,s,function(t){return e[t]}.bind(null,s));return i};a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};a.d(t,"a",t);return t};a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)};a.p="";var r=window.webpackJsonp=window.webpackJsonp||[],o=r.push.bind(r);r.push=t;r=r.slice();for(var u=0;u<r.length;u++)t(r[u]);var c=o;l.push(["./blocks/plugin/Plugin.ts","vendors~main"]);i()}({"./blocks/model/Model.ts":
/*!*******************************!*\
  !*** ./blocks/model/Model.ts ***!
  \*******************************/
/*! no static exports found */function(e,t,i){"use strict";function s(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var i=[],s=!0,n=!1,l=void 0;try{for(var a,r=e[Symbol.iterator]();!(s=(a=r.next()).done);s=!0){i.push(a.value);if(t&&i.length===t)break}}catch(e){n=!0;l=e}finally{try{s||null==r.return||r.return()}finally{if(n)throw l}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return n(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);"Object"===i&&e.constructor&&(i=e.constructor.name);if("Map"===i||"Set"===i)return Array.from(e);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return n(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,s=new Array(t);i<t;i++)s[i]=e[i];return s}function l(e,t){for(var i=0;i<t.length;i++){var s=t[i];s.enumerable=s.enumerable||!1;s.configurable=!0;"value"in s&&(s.writable=!0);Object.defineProperty(e,s.key,s)}}Object.defineProperty(t,"__esModule",{value:!0});var a=i(/*! ../utils/Utils */"./blocks/utils/Utils.ts"),r=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);this.min=t.min||0;this.max=t.max||100;this.step=t.step||1;this.min>=this.max&&(this.max=this.min+this.step);this.type=t.type||"single";this.direction=t.direction||"horizontal";this.value=t.value||("range"===this.type?[0,100]:0);this.tooltip=t.tooltip||!1;this.scale={init:a.chechScaleInit(t.scale),num:t.scale instanceof Object&&t.scale.num?t.scale.num:7,type:t.scale instanceof Object&&t.scale.type?t.scale.type:"usual"};this.setValue(this.value,this.type)}!function(e,t,i){t&&l(e.prototype,t);i&&l(e,i)}(e,[{key:"getType",value:function(){return this.type}},{key:"getStep",value:function(){return this.step}},{key:"getValue",value:function(){return this.value}},{key:"setValue",value:function(e,t){var i=a.checkValue(e,this.min,this.max,this.step,this.type);("single"===t||"range"===t)&&(this.value=i)}},{key:"changeDirection",value:function(){"horizontal"===this.direction?this.direction="vertical":"vertical"===this.direction&&(this.direction="horizontal")}},{key:"changeType",value:function(e){if(e===this.type)return!1;this.type=e;var t;if("single"===this.type){t=s(this.value,1)[0];this.value=t}else if("range"===this.type){t=[this.value,this.value];this.value=t}this.setValue(this.value,this.type);return!0}},{key:"changeStep",value:function(e){var t=e;t<.01&&(t=.01);t>this.max-this.min&&(t=this.max-this.min);this.step=t;this.setValue(this.value,this.type)}},{key:"changeScale",value:function(e){this.scale.init=e.init;e.type&&(this.scale.type=e.type);e.num&&(this.scale.num=e.num)}}]);return e}();t.default=r},"./blocks/plugin/Plugin.ts":
/*!*********************************!*\
  !*** ./blocks/plugin/Plugin.ts ***!
  \*********************************/
/*! no static exports found */function(e,t,i){"use strict";var s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var n=s(i(/*! ../presenter/Presenter */"./blocks/presenter/Presenter.ts")),l=i(/*! jquery */"../node_modules/jquery/dist/jquery.js");l.fn.sliderPlugin=function(e){var t;this[0]&&this[0].id&&(t=this[0].attributes.getNamedItem("id").value);var i=l.extend(e,{root:t}),s=new n.default(i);return{getValue:s.getValue.bind(s),getType:s.getType.bind(s),getStep:s.getStep.bind(s),getScale:s.getScale.bind(s),getDirection:s.getDirection.bind(s),getTooltip:s.getTooltip.bind(s),setValue:s.changeValue.bind(s),changeType:s.changeType.bind(s),changeTooltip:s.changeTooltip.bind(s),changeDirection:s.changeDirection.bind(s),changeStep:s.changeStep.bind(s),changeScale:s.changeScale.bind(s),addObserver:s.addObserver.bind(s)}};t.default=l},"./blocks/presenter/Presenter.ts":
/*!***************************************!*\
  !*** ./blocks/presenter/Presenter.ts ***!
  \***************************************/
/*! no static exports found */function(e,t,i){"use strict";function s(e,t){for(var i=0;i<t.length;i++){var s=t[i];s.enumerable=s.enumerable||!1;s.configurable=!0;"value"in s&&(s.writable=!0);Object.defineProperty(e,s.key,s)}}var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var l=n(i(/*! ../view/View */"./blocks/view/View.ts")),a=n(i(/*! ../model/Model */"./blocks/model/Model.ts")),r=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);this.view=new l.default(t);this.model=new a.default(t);this.addObserver(this)}!function(e,t,i){t&&s(e.prototype,t);i&&s(e,i)}(e,[{key:"update",value:function(e,t){"userMoveSlider"===e&&this.changeValue(t)}},{key:"changeDirection",value:function(){this.model.changeDirection();this.view.changeDirection()}},{key:"changeType",value:function(e){this.model.changeType(e);this.view.changeType(e)}},{key:"changeValue",value:function(e){this.model.setValue(e,this.model.type);this.view.changeValue(e)}},{key:"changeStep",value:function(e){this.model.changeStep(e);this.view.changeStep(e)}},{key:"changeScale",value:function(e){this.model.changeScale(e);this.view.changeScale(e)}},{key:"changeTooltip",value:function(e){this.model.tooltip=e;this.view.changeTooltip(this.model.tooltip)}},{key:"getValue",value:function(){return this.model.value}},{key:"getType",value:function(){return this.model.type}},{key:"getStep",value:function(){return this.model.step}},{key:"getScale",value:function(){return this.model.scale}},{key:"getDirection",value:function(){return this.model.direction}},{key:"getTooltip",value:function(){return this.model.tooltip}},{key:"addObserver",value:function(e){this.view.addObservers(e)}}]);return e}();t.default=r},"./blocks/utils/Observable.ts":
/*!************************************!*\
  !*** ./blocks/utils/Observable.ts ***!
  \************************************/
/*! no static exports found */function(e,t,i){"use strict";function s(e,t){for(var i=0;i<t.length;i++){var s=t[i];s.enumerable=s.enumerable||!1;s.configurable=!0;"value"in s&&(s.writable=!0);Object.defineProperty(e,s.key,s)}}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);this.observers=[]}!function(e,t,i){t&&s(e.prototype,t);i&&s(e,i)}(e,[{key:"subscribe",value:function(e){this.observers.push(e)}},{key:"trigger",value:function(e,t){this.observers.forEach((function(i){return i.update(e,t)}))}}]);return e}();t.default=n},"./blocks/utils/Utils.ts":
/*!*******************************!*\
  !*** ./blocks/utils/Utils.ts ***!
  \*******************************/
/*! no static exports found */function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.chechScaleInit=t.roundValue=t.checkValue=t.stepСheck=void 0;var s=function(e){return e.toString().includes(".")?+e.toFixed(2):e};t.roundValue=s;var n=function e(t,i,n,l){return t<=i?i:t>n?e(n,i,n,l):(t-i)%l!=0?i+Number(((t-i)/l).toFixed())*l<=n?s(i+Number(((t-i)/l).toFixed())*l):s(i+Number(((t-i)/l).toFixed())*l-l):s(t)};t.stepСheck=n;t.checkValue=function(e,t,i,s,l){var a=e;if("single"===l){if(a<=t)return a=t;a>i&&(a=i);return a=n(a,t,i,s)}if("range"===l&&e instanceof Array==!0){var r=e;if(r[0]<=t){r[0]=t;r[1]<=t&&(r[1]=r[0]+s)}if(r[1]>=i){r[1]=n(i,t,i,s);r[0]>=r[1]&&(r[0]=r[1]-s)}r[0]=n(r[0],t,i,s);r[1]=n(r[1],t,i,s);if(r[0]>=r[1])if(r[0]<=n(i,t,i,s)-s)r[1]=r[0]+s;else if(r[0]>n(i,t,i,s)-s){r[0]=n(i,t,i,s)-s;r[1]=n(i,t,i,s)}return r}};t.chechScaleInit=function(e){return e&&"boolean"==typeof e?e:!!(e&&e instanceof Object)&&(!!e.init&&e.init)}},"./blocks/view/View.ts":
/*!*****************************!*\
  !*** ./blocks/view/View.ts ***!
  \*****************************/
/*! no static exports found */function(e,t,i){"use strict";function s(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var i=[],s=!0,n=!1,l=void 0;try{for(var a,r=e[Symbol.iterator]();!(s=(a=r.next()).done);s=!0){i.push(a.value);if(t&&i.length===t)break}}catch(e){n=!0;l=e}finally{try{s||null==r.return||r.return()}finally{if(n)throw l}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return n(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);"Object"===i&&e.constructor&&(i=e.constructor.name);if("Map"===i||"Set"===i)return Array.from(e);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return n(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,s=new Array(t);i<t;i++)s[i]=e[i];return s}function l(e,t){for(var i=0;i<t.length;i++){var s=t[i];s.enumerable=s.enumerable||!1;s.configurable=!0;"value"in s&&(s.writable=!0);Object.defineProperty(e,s.key,s)}}var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var r=i(/*! ../utils/Utils */"./blocks/utils/Utils.ts"),o=a(i(/*! ../utils/Observable */"./blocks/utils/Observable.ts")),u=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);this.viewValues={min:t.min||0,max:t.max||100,step:t.step||1,type:t.type||"single",value:t.value||("range"===t.type?[0,100]:0),direction:t.direction||"horizontal",tooltip:t.tooltip||!1,scale:{init:r.chechScaleInit(t.scale),num:t.scale instanceof Object&&t.scale.num?t.scale.num:7,type:t.scale instanceof Object&&t.scale.type?t.scale.type:"usual"}};this.observebale=new o.default;this.init(t);this.initStyles(t.type,t.direction);this.setValue(this.viewValues.value,this.viewValues.type);this.bindEventListeners()}!function(e,t,i){t&&l(e.prototype,t);i&&l(e,i)}(e,[{key:"init",value:function(e){this.root||(this.root=document.getElementById(e.root)||document.body);(this.wrap=document.createElement("div")).classList.add("slider__wrp");this.root===document.body?this.root.insertBefore(this.wrap,document.querySelector("script")):this.root.appendChild(this.wrap);(this.sliderLine=document.createElement("div")).classList.add("slider__line");this.wrap.appendChild(this.sliderLine);(this.selectSegment=document.createElement("div")).classList.add("slider__select");if("single"===this.viewValues.type){this.sliderLine.appendChild(this.selectSegment);(this.handle=document.createElement("div")).classList.add("slider__handle");this.sliderLine.appendChild(this.handle)}else if("range"===this.viewValues.type){(this.handleMin=document.createElement("div")).classList.add("slider__handle");this.sliderLine.appendChild(this.handleMin);this.sliderLine.appendChild(this.selectSegment);(this.handleMax=document.createElement("div")).classList.add("slider__handle");this.sliderLine.appendChild(this.handleMax)}this.viewValues.tooltip&&this.initTooltip();this.viewValues.scale.init&&this.initScale(this.viewValues.scale)}},{key:"initStyles",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"single",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"horizontal";if("horizontal"===t){this.wrap.classList.add("slider__wrp_horizontal");this.sliderLine.classList.add("slider__line_horizontal");this.selectSegment.classList.add("slider__select_horizontal");if("single"===e){if(this.handle){this.handle.classList.add("slider__handle_horizontal");this.handle.tabIndex=1}}else if("range"===e){if(this.handleMin){this.handleMin.classList.add("slider__handle_horizontal");this.handleMin.tabIndex=1}if(this.handleMax){this.handleMax.classList.add("slider__handle_horizontal");this.handleMax.tabIndex=1}}}else if("vertical"===t){this.wrap.classList.add("slider__wrp_vertical");this.sliderLine.classList.add("slider__line_vertical");this.selectSegment.classList.add("slider__select_vertical");if("single"===e){if(this.handle){this.handle.classList.add("slider__handle_vertical");this.handle.tabIndex=1}}else if("range"===e){if(this.handleMin){this.handleMin.classList.add("slider__handle_vertical");this.handleMin.tabIndex=1}if(this.handleMax){this.handleMax.classList.add("slider__handle_vertical");this.handleMax.tabIndex=1}}}}},{key:"initScale",value:function(e){var t=this;(this.scale=document.createElement("div")).classList.add("slider__scale");var i=document.createElement("ul");i.classList.add("slider__scale-list");var s=this.viewValues.direction;"horizontal"===s?i.classList.add("slider__scale-list_horizontal"):"vertical"===s&&i.classList.add("slider__scale-list_vertical");for(var n=e.num||7,l=0;l<n;l+=1){var a=document.createElement("li");a.classList.add("slider__scale-item");a.classList.add("slider__scale-item_".concat(s));if("numeric"===this.viewValues.scale.type){a.classList.add("slider__scale-item_numeric");this.viewValues.step<1&&this.viewValues.max-this.viewValues.min<=1?a.innerHTML=((this.viewValues.max-this.viewValues.min)/(n-1)*l+this.viewValues.min).toFixed(2).toString():a.innerHTML=((this.viewValues.max-this.viewValues.min)/(n-1)*l+this.viewValues.min).toFixed().toString()}a.id="slider__scale-item".concat(l+1);i.appendChild(a)}this.initScaleStyles();this.scale.appendChild(i);this.wrap.appendChild(this.scale);this.viewValues.scale.init&&this.scale.addEventListener("mousedown",(function(e){if(e.target.classList.contains("slider__scale-item")){var i;if("single"===t.viewValues.type){"horizontal"===t.viewValues.direction?i=t.invertCoordinate(e.clientX).inValue:"vertical"===t.viewValues.direction&&(i=t.invertCoordinate(e.clientY).inValue);t.setValue(i,"single")}else if("range"===t.viewValues.type){"horizontal"===t.viewValues.direction?i=t.invertCoordinate(e.clientX).inValue:"vertical"===t.viewValues.direction&&(i=t.invertCoordinate(e.clientY).inValue);i<=t.viewValues.value[1]?t.setValue([i,t.viewValues.value[1]],"range"):t.setValue([t.viewValues.value[0],i],"range")}t.observebale.trigger("userMoveSlider",t.viewValues.value)}}))}},{key:"initTooltip",value:function(){if("single"===this.viewValues.type){if(this.viewValues.tooltip){(this.tooltip=document.createElement("div")).classList.add("slider__tooltip");this.handle.appendChild(this.tooltip);"horizontal"===this.viewValues.direction?this.tooltip.classList.add("slider__tooltip_horizontal"):"vertical"===this.viewValues.direction&&this.tooltip.classList.add("slider__tooltip_vertical");this.tooltip.innerHTML=this.viewValues.value.toString()}}else if("range"===this.viewValues.type&&this.viewValues.tooltip){(this.tooltipMin=document.createElement("div")).classList.add("slider__tooltip");this.handleMin.appendChild(this.tooltipMin);(this.tooltipMax=document.createElement("div")).classList.add("slider__tooltip");this.handleMax.appendChild(this.tooltipMax);if("horizontal"===this.viewValues.direction){this.tooltipMin.classList.add("slider__tooltip_horizontal");this.tooltipMax.classList.add("slider__tooltip_horizontal")}else if("vertical"===this.viewValues.direction){this.tooltipMin.classList.add("slider__tooltip_vertical");this.tooltipMax.classList.add("slider__tooltip_vertical")}this.tooltipMin.innerHTML=this.viewValues.value[0].toString();this.tooltipMax.innerHTML=this.viewValues.value[1].toString()}}},{key:"initScaleStyles",value:function(){if(this.scale){"horizontal"===this.viewValues.direction&&this.scale.classList.add("slider__scale_horizontal");"vertical"===this.viewValues.direction&&this.scale.classList.add("slider__scale_vertical")}}},{key:"setValue",value:function(e,t){var i=this.checkValue(e);if("horizontal"===this.viewValues.direction){if("single"===t){this.viewValues.value=i;this.selectSegment.style.width="calc(".concat(this.invertToPersent(this.viewValues.value),"%)");this.handle.style.left="calc(".concat(this.invertToPersent(this.viewValues.value),"% - 15px)");this.tooltip&&(this.tooltip.innerHTML=this.viewValues.value.toString())}else if("range"===t){this.viewValues.value=i;this.handleMin.style.left="calc(".concat(this.invertToPersent(this.viewValues.value[0]),"% - 15px)");this.selectSegment.style.width="calc(".concat(this.invertToPersent(this.viewValues.value[1])-this.invertToPersent(this.viewValues.value[0]),"%)");this.selectSegment.style.left="calc(".concat(this.invertToPersent(this.viewValues.value[0]),"%)");this.handleMax.style.left="calc(".concat(this.invertToPersent(this.viewValues.value[1]),"% - 15px)");this.tooltipMin&&(this.tooltipMin.innerHTML=this.viewValues.value[0].toString());this.tooltipMax&&(this.tooltipMax.innerHTML=this.viewValues.value[1].toString())}}else if("vertical"===this.viewValues.direction)if("single"===t){this.viewValues.value=i;this.selectSegment.style.height="calc(".concat(this.invertToPersent(this.viewValues.value),"%)");this.handle.style.top="calc(".concat(this.invertToPersent(this.viewValues.value),"% - 15px)");this.tooltip&&(this.tooltip.innerHTML=this.viewValues.value.toString())}else if("range"===t){this.viewValues.value=i;this.handleMin.style.top="calc(".concat(this.invertToPersent(this.viewValues.value[0]),"% - 15px)");this.selectSegment.style.height="calc(".concat(this.invertToPersent(this.viewValues.value[1])-this.invertToPersent(this.viewValues.value[0]),"%)");this.selectSegment.style.top="calc(".concat(this.invertToPersent(this.viewValues.value[0]),"%)");this.handleMax.style.top="calc(".concat(this.invertToPersent(this.viewValues.value[1]),"% - 15px)");this.tooltipMin&&(this.tooltipMin.innerHTML=this.viewValues.value[0].toString());this.tooltipMax&&(this.tooltipMax.innerHTML=this.viewValues.value[1].toString())}}},{key:"clearRoot",value:function(){this.wrap.remove()}},{key:"clearScale",value:function(){var e;null===(e=this.scale)||void 0===e||e.remove()}},{key:"clearTooltip",value:function(){var e,t,i;null===(e=this.tooltip)||void 0===e||e.remove();null===(t=this.tooltipMin)||void 0===t||t.remove();null===(i=this.tooltipMax)||void 0===i||i.remove()}},{key:"invertToPersent",value:function(e){return(e-this.viewValues.min)/(this.viewValues.max-this.viewValues.min)*100}},{key:"invertCoordinate",value:function(e){var t=0;"horizontal"===this.viewValues.direction?t=Number(((e-this.sliderLine.getBoundingClientRect().left)/this.sliderLine.getBoundingClientRect().width*100).toFixed(2)):"vertical"===this.viewValues.direction&&(t=Number(((e-this.sliderLine.getBoundingClientRect().top)/this.sliderLine.getBoundingClientRect().height*100).toFixed(2)));t<0&&(t=0);t>100&&(t=100);var i=Number(t)/100*(this.viewValues.max-this.viewValues.min)+this.viewValues.min;return{inPersent:Number(t.toFixed()),inValue:Number(i.toFixed(2))}}},{key:"stepСheck",value:function(e){return r.stepСheck(e,this.viewValues.min,this.viewValues.max,this.viewValues.step)}},{key:"checkValue",value:function(e){return r.checkValue(e,this.viewValues.min,this.viewValues.max,this.viewValues.step,this.viewValues.type)}},{key:"bindEventListeners",value:function(){var e=this,t=0,i=function(i){i.preventDefault();"horizontal"===e.viewValues.direction?t=e.invertCoordinate(i.clientX).inValue:"vertical"===e.viewValues.direction&&(t=e.invertCoordinate(i.clientY).inValue);t=e.stepСheck(t);e.setValue(t,"single");e.viewValues.value=t;e.observebale.trigger("userMoveSlider",e.viewValues.value)},s=function(i){i.preventDefault();var s=[e.viewValues.value[1]][0];if("horizontal"===e.viewValues.direction){t=e.invertCoordinate(i.clientX).inValue;t=e.stepСheck(t)}else if("vertical"===e.viewValues.direction){t=e.invertCoordinate(i.clientY).inValue;t=e.stepСheck(t)}e.setValue([t,s],"range");e.observebale.trigger("userMoveSlider",e.viewValues.value)},n=function(i){i.preventDefault();var s=[e.viewValues.value[0]][0];if("horizontal"===e.viewValues.direction){t=e.invertCoordinate(i.clientX).inValue;t=e.stepСheck(t)}else if("vertical"===e.viewValues.direction){t=e.invertCoordinate(i.clientY).inValue;t=e.stepСheck(t)}t<=s?e.setValue([s-e.viewValues.step,t],"range"):e.setValue([s,t],"range");e.observebale.trigger("userMoveSlider",e.viewValues.value)},l=function e(){document.removeEventListener("mouseup",e);document.removeEventListener("mousemove",i);document.removeEventListener("mousemove",s);document.removeEventListener("mousemove",n)},a=function(t){t.preventDefault();if("ArrowLeft"===t.code||"ArrowDown"===t.code){e.setValue(e.viewValues.value-e.viewValues.step,"single");e.observebale.trigger("userMoveSlider",e.viewValues.value)}if("ArrowRight"===t.code||"ArrowUp"===t.code){e.setValue(e.viewValues.value+e.viewValues.step,"single");e.observebale.trigger("userMoveSlider",e.viewValues.value)}},r=function(t){t.preventDefault();if("ArrowRight"===t.code||"ArrowDown"===t.code){e.setValue([e.viewValues.value[0]+e.viewValues.step,e.viewValues.value[1]],"range");e.observebale.trigger("userMoveSlider",e.viewValues.value)}if("ArrowLeft"===t.code||"ArrowUp"===t.code){e.setValue([e.viewValues.value[0]-e.viewValues.step,e.viewValues.value[1]],"range");e.observebale.trigger("userMoveSlider",e.viewValues.value)}},o=function(t){t.preventDefault();if("ArrowRight"===t.code||"ArrowDown"===t.code){e.setValue([e.viewValues.value[0],e.viewValues.value[1]+e.viewValues.step],"range");e.observebale.trigger("userMoveSlider",e.viewValues.value)}if("ArrowLeft"===t.code||"ArrowUp"===t.code){if(e.viewValues.value[1]-e.viewValues.value[0]===e.viewValues.step){e.setValue([e.viewValues.value[0]-e.viewValues.step,e.viewValues.value[1]-e.viewValues.step],"range");return}e.setValue([e.viewValues.value[0],e.viewValues.value[1]-e.viewValues.step],"range");e.observebale.trigger("userMoveSlider",e.viewValues.value)}},u=function(){var t,i,s;if("single"===e.viewValues.type)null===(t=e.handle)||void 0===t||t.removeEventListener("keydown",a);else if("range"===e.viewValues.type){null===(i=e.handleMin)||void 0===i||i.removeEventListener("keydown",r);null===(s=e.handleMax)||void 0===s||s.removeEventListener("keydown",o)}};if("single"===this.viewValues.type){this.handle.addEventListener("mousedown",(function(e){if(0===e.button){document.addEventListener("mousemove",i);document.addEventListener("mouseup",l)}}));this.handle.addEventListener("focus",(function(){e.handle.addEventListener("keydown",a)}));this.handle.addEventListener("blur",u)}else if("range"===this.viewValues.type){this.handleMin.addEventListener("mousedown",(function(e){if(0===e.button){document.addEventListener("mousemove",s);document.addEventListener("mouseup",l)}}));this.handleMin.addEventListener("focus",(function(){e.handleMin.addEventListener("keydown",r)}));this.handleMin.addEventListener("blur",u);this.handleMax.addEventListener("mousedown",(function(e){if(0===e.button){document.addEventListener("mousemove",n);document.addEventListener("mouseup",l)}}));this.handleMax.addEventListener("focus",(function(){e.handleMax.addEventListener("keydown",o)}));this.handleMax.addEventListener("blur",u)}}},{key:"changeDirection",value:function(){"horizontal"===this.viewValues.direction?this.viewValues.direction="vertical":"vertical"===this.viewValues.direction&&(this.viewValues.direction="horizontal");this.clearRoot();this.init(this.viewValues);this.initStyles(this.viewValues.type,this.viewValues.direction);this.setValue(this.viewValues.value,this.viewValues.type);this.bindEventListeners()}},{key:"changeType",value:function(e,t){if(e===this.viewValues.type){console.log("Нельзя поменять тип слайдера на тот же самый, который установлен");return!1}this.viewValues.type=e;var i;if(t){if("single"===this.viewValues.type){if("number"!=typeof t){console.log("Введенное значение должно быть числом");return!1}this.viewValues.value=t}else if("range"===this.viewValues.type){if(!Array.isArray(t)||2!==t.length){console.log("Введенное значение должно быть массивом из 2х чисел");return!1}this.viewValues.value=t}}else if(!t)if("single"===this.viewValues.type){i=s(this.viewValues.value,1)[0];this.viewValues.value=i}else if("range"===this.viewValues.type){i=[this.viewValues.value,this.viewValues.value];this.viewValues.value=i}this.clearRoot();this.init(this.viewValues);this.initStyles(this.viewValues.type,this.viewValues.direction);this.setValue(this.viewValues.value,this.viewValues.type);this.bindEventListeners();return!0}},{key:"changeValue",value:function(e){if("single"===this.viewValues.type&&"number"!=typeof e)return new Error("введите корректное значение, а именно number");if("range"===this.viewValues.type&&!Array.isArray(e)||"range"===this.viewValues.type&&Array.isArray(e)&&2!==e.length)return new Error("введите корректное значение, а именно [number, number]");this.setValue(e,this.viewValues.type);return this.viewValues.value}},{key:"changeStep",value:function(e){var t=e;t<.01&&(t=.01);t>this.viewValues.max-this.viewValues.min&&(t=this.viewValues.max-this.viewValues.min);this.viewValues.step=e;this.setValue(this.viewValues.value,this.viewValues.type)}},{key:"changeScale",value:function(e){this.viewValues.scale.init=e.init;e.type&&(this.viewValues.scale.type=e.type);e.num&&(this.viewValues.scale.num=e.num);if(!1===this.viewValues.scale.init)this.clearScale();else if(!0===this.viewValues.scale.init){this.clearScale();this.initScale(this.viewValues.scale)}}},{key:"changeTooltip",value:function(e){if(this.viewValues.tooltip!==e)if(!1===e){this.viewValues.tooltip=!1;this.clearTooltip()}else if(!0===e){this.viewValues.tooltip=!0;this.initTooltip()}}},{key:"getValues",value:function(){return this.viewValues}},{key:"addObservers",value:function(e){this.observebale.subscribe(e)}}]);return e}();t.default=u}});
